<!DOCTYPE html>
<html>
<head>
	<title>Connections</title>
	<style type="text/css">
		
/*	.title{
		text-align: center;
		font-family: "avenir";
		font-weight: lighter;
		font-size: 1.7vw;
		position: relative;
		top: 0%;


	}*/

	#wrapper {
		height: 100vh;

	}
	.description {
		
		font-family: "times";
		font-weight: lighter;
		font-size: 1vw;
		position: relative;
		width: 30vw;
		font-style: italic;
		
	}
	.author {
		text-align: center;
		font-family: "times";
		font-size: 1vw;
		padding-top: 10vh;

	}

		#arena {
		/*width: 70vw;*/
		position: fixed;
		top: 50%;
		left: 50%;
		transform: translate(-50%,-50%);
	

	}
	.images{
		width: 20vw;
		/*display: inline-block;*/
		/*vertical-align: top;*/
		position: relative;
		/*top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);*/

	}

	#times {
		width: 95vw;
		position: fixed;
		bottom: 2%;
		left: 2%;
		border-top: 1px solid black;

	}

	.italic  {
		font-family: "times";
		font-size: 1vw;
		font-style: oblique;
	}

	.mark {
		font-family: "times";
		font-size: 1vw;
		vertical-align: top;
	}
	.regular {
		font-style:normal;
	}

	.suggestion_wrap {
		width: 15vw;
		position: absolute;
		bottom: 2%;
		right: 2%;
	}
	.suggestions {
		height: 5vh;
		position: relative;
		display: inline;
	}
	</style>

	<script type="text/javascript" src="assets/jquery-3.3.1.min.js"></script>
	<script type="text/javascript" src="assets/jquery.query-yql.min.js"></script>

	<script type="text/javascript">
		$(document).ready(function(){

	    // //$.get requests:
	    // 	// are.na
	    $.get( "http://api.are.na/v2/channels/graphic-and-print", function( data ) {
	      
	      var min = 0;
	      var max = 25;
	      var r = Math.floor(Math.random()*(max - min) + min);
	      var arenaContents = data.contents;
	      
	      console.log(arenaContents[r].image);
	      $("#arena").append(`

	      			<p class="mark">*</p>
	      			<img class="images" src="${arenaContents[r].image.original.url}">
	      		`);
	  

	      			document.title= arenaContents[r].image.original.file_size;

	      	});

	    $.get( "http://api.are.na/v2/channels/degree-project-76bhfj7t2ng", function( data ) {
		var arenaSuggestions = data.contents;
		console.log(arenaSuggestions);
	      	
	      	for (var l = 0; l < 2; l++) {

	      		var minl = 0;
	      		var maxl = 25;
	      		var al = Math.floor(Math.random()*(maxl - minl) + minl);
	      		

	      	if(arenaSuggestions[al].image){
	      		
	      		$(".suggestion_wrap").append(`

	      			<a href="#"><img class="suggestions" src="${arenaSuggestions[al].image.original.url}"><a/>
	      		`);
	      		

	      	}else{
	      		console.log("THIS IMAGE DOESNT EXIST")
	      	}      
	      
	  }

			});

	    

	     var nyStatement = "select * from feed where url='http://rss.nytimes.com/services/xml/rss/nyt/Politics.xml'"; // here you link the url you need

	    $.queryYQL(nyStatement, "json", undefined, function (data) { //function taken from the query-yql library 
	    	var minn = 0;
	      	var maxn = data.query.results.item.length;
	      	var a = Math.floor(Math.random()*(maxn - minn) + minn);
	    	var nytArticles = data.query.results.item;

	    	// for (var i = 0; i < 1; i++) {
	    		
	    		console.log(nytArticles)	

	    		$("#times").append(`

	    				
	    				<h1 class="description"><span>*</span> <span class="regular">${nytArticles[a].description[1]}</span><br>${nytArticles[a].pubDate}</br></h1>
	    				
	    			
    			`)
	    		
	    	})

	    })


		// })

		



	</script>

</head>
<body>
	<div id="wrapper">
	</div>
	<div id="times"></div>
	<div id="arena"></div>
	<div id="footnotes">
		<div class="suggestion_wrap"></div>
	</div>
	

</body>
</html>